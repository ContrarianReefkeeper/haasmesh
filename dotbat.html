<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Maxwell Mesh Map</title>
<!--    <script src="https://unpkg.com/@hpcc-js/wasm/dist/index.min.js"></script> -->
    <script src="http://192.168.2.1/node_modules/@hpcc-js/wasm/dist/index.min.js"></script>
    <script>
        var hpccWasm = window["@hpcc-js/wasm"];
    </script>
</head>

<body>
    <div id="placeholder"></div>
    <div id="placeholder2"> html </div>
    <script>
        const dot = `

digraph {
	subgraph "cluster_3-192.168.2.5" {
		"3-192.168.2.5"
		"4-192.168.2.5" [peripheries=2]
	}
	"4-192.168.2.5" -> "4-192.168.2.6" [label="1.032"]
	"3-192.168.2.5" -> "3-192.168.2.6" 
	"4-192.168.2.5" -> "5-192.168.2.4" 
	"4-192.168.2.5" -> "5-192.168.2.1" [label="1.020"]
	"3-192.168.2.5" -> "1-192.168.2.5" 
	"3-192.168.2.5" -> "192.168.2.57 amazon-108bc100b" 
	"3-192.168.2.5" -> "2-192.168.2.5" 
	"3-192.168.2.5" -> "1-192.168.2.5" 
	"3-192.168.2.5" -> "1-192.168.2.5" 
	subgraph "cluster_3-192.168.2.4" {
		"3-192.168.2.4"
		"5-192.168.2.4" [peripheries=2]
	}
	"3-192.168.2.4" -> "3-192.168.2.1" 
	"5-192.168.2.4" -> "4-192.168.2.5" [label="1.016"]
	"5-192.168.2.4" -> "5-192.168.2.1" 
	"5-192.168.2.4" -> "4-192.168.2.3" [label="1.041"]
	"3-192.168.2.4" -> "192.168.2.58 PhantomReactor600-L47W00496P0LA" 
	"3-192.168.2.4" -> "192.168.2.168 *" 
	"3-192.168.2.4" -> "192.168.2.227 *" 
	"3-192.168.2.4" -> "192.168.2.181 PhantomReactor600-L46W00359P0LA" 
	"3-192.168.2.4" -> "192.168.2.144 FamilyRoom" 
	"3-192.168.2.4" -> "1-192.168.2.4" 
	"3-192.168.2.4" -> "1-192.168.2.4" 
	"3-192.168.2.4" -> "1-192.168.2.4" 
	"3-192.168.2.4" -> "192.168.2.40 *" 
	"3-192.168.2.4" -> "192.168.2.139 KC110" 
	"3-192.168.2.4" -> "192.168.2.138 retropie" 
	"3-192.168.2.4" -> "192.168.2.102 amazon-74c8433e9" 
	"3-192.168.2.4" -> "2-192.168.2.4" 
	"3-192.168.2.4" -> "192.168.2.23 XBOXONE" 
	"3-192.168.2.4" -> "192.168.2.232 raspberry" 
	subgraph "cluster_3-192.168.2.3" {
		"3-192.168.2.3"
		"4-192.168.2.3" [peripheries=2]
	}
	"3-192.168.2.3" -> "3-192.168.2.2" 
	"4-192.168.2.3" -> "5-192.168.2.4" 
	"4-192.168.2.3" -> "4-192.168.2.2" 
	"4-192.168.2.3" -> "5-192.168.2.1" [label="1.028"]
	"3-192.168.2.3" -> "192.168.2.46 *" 
	"3-192.168.2.3" -> "2-192.168.2.3" 
	"3-192.168.2.3" -> "192.168.2.193 *" 
	"3-192.168.2.3" -> "192.168.2.145 Etekcity-Outlet" 
	"3-192.168.2.3" -> "1-192.168.2.3" 
	"3-192.168.2.3" -> "192.168.2.224 Galaxy-S10e" 
	"3-192.168.2.3" -> "1-192.168.2.3" 
	"3-192.168.2.3" -> "1-192.168.2.3" 
	subgraph "cluster_3-192.168.2.6" {
		"3-192.168.2.6"
		"4-192.168.2.6" [peripheries=2]
	}
	"3-192.168.2.6" -> "3-192.168.2.5" 
	"4-192.168.2.6" -> "4-192.168.2.5" 
	"3-192.168.2.6" -> "2-192.168.2.6" 
	"3-192.168.2.6" -> "1-192.168.2.6" 
	"3-192.168.2.6" -> "1-192.168.2.6" 
	"3-192.168.2.6" -> "1-192.168.2.6" 
	"3-192.168.2.6" -> "192.168.2.53 *" 
	subgraph "cluster_3-192.168.2.2" {
		"3-192.168.2.2"
		"4-192.168.2.2" [peripheries=2]
	}
	"3-192.168.2.2" -> "3-192.168.2.3" 
	"4-192.168.2.2" -> "4-192.168.2.3" 
	"3-192.168.2.2" -> "1-192.168.2.2" 
	"3-192.168.2.2" -> "192.168.2.210 KC200" 
	"3-192.168.2.2" -> "1-192.168.2.2" 
	"3-192.168.2.2" -> "192.168.2.213 Oculus-Pacific-5a32b61041739d1e" 
	"3-192.168.2.2" -> "1-192.168.2.2" 
	"3-192.168.2.2" -> "192.168.2.110 *" 
	"3-192.168.2.2" -> "2-192.168.2.2" 
	subgraph "cluster_3-192.168.2.1" {
		"3-192.168.2.1"
		"5-192.168.2.1" [peripheries=2]
	}
	"5-192.168.2.1" -> "5-192.168.2.4" [label="1.016"]
	"5-192.168.2.1" -> "4-192.168.2.5" [label="1.016"]
	"3-192.168.2.1" -> "3-192.168.2.4" 
	"5-192.168.2.1" -> "4-192.168.2.3" 
	"3-192.168.2.1" -> "192.168.2.218 *" 
	"3-192.168.2.1" -> "1-192.168.2.1" 
	"3-192.168.2.1" -> "192.168.2.208 amazon-4694f9d93" 
	"3-192.168.2.1" -> "2-192.168.2.1" 
	"3-192.168.2.1" -> "1-192.168.2.1" 
	"3-192.168.2.1" -> "1-192.168.2.1" 
}

        `;

        // Asynchronous call to layout
//        hpccWasm.graphviz.layout(dot, "svg", "fdp").then(svg => {
//            const div = document.getElementById("placeholder");
//            div.innerHTML = svg;
//        });

        hpccWasm.graphvizSync().then(graphviz => {
            const div = document.getElementById("placeholder2");
            // Synchronous call to layout
            div.innerHTML = graphviz.layout(dot, "svg", "fdp");
        });

    </script>

</body>

</html>

